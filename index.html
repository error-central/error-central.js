<html>

<head>
	<script src="./error-central.js" charset="utf-8"></script>

	<script>
		function evalForError() {
			try {
				eval(document.getElementById('ta').value);
			}
			catch (e) {
				// console.log(e)
				var error = new ErrorEvent('Eval event', e);
				// NOT WORKING. :(
				window.dispatchEvent(error);
			};
			return false;
		}
	</script>
</head>

<body>

	<h1>Re-thinking Error messages: Demo of Error Central for javascript</h1>

	<p>The Github repo for this demo is <a href="https://github.com/error-central/error-central.js">here</a>.</p>

	<p>
		It's ironic that developers are creating smooth, smart, integrated expereinces for other professions, but developer
		tools themselves remain warmed-over 70's teletype.
	</p>

	<p>
		It's ironic that developers are creating smooth, smart, integrated expereinces for other professions, but developer
		tools themselves remain warmed-over 70's teletype.
	</p>

	<p>Buttons on this page produce errors. Open the browser console Command-Option-J to view console.</p>

	<button onclick="x=undefinedFunction(4)"><code>undefinedFunction(4)</code></button>

	<button onclick="x=undefinedFunctionNoIssue(4)"><code>undefinedFunctionNoIssue()</code></button>

	<form onsubmit="return false;">
		<textarea id="ta" style="font-family: monospace;">
			randomFunction();
		</textarea>
		<!-- <button onclick="eval(document.getElementById('ta').value); return false;">Execute</button> -->
		<!-- <button onclick="window['eval'].call(window, document.getElementById('ta').value); return false;">Execute</button> -->

		<button onclick="return evalForError()">Execute</button>

	</form>

	<script>

			// window.onerror = function (message, source, lineno, colno, error) {
			// console.info(">>>" + message, source, lineno)
			// }

			// console.log("Hi");

			// console.error("User generated error.");

			// fart()
			// setTimeout("fart", 1000);


			// let req = new XMLHttpRequest();
			// let dependencies;
			// req.open('GET', 'https://google.com/someapi');
			// req.onload = () => {
			// console.log("We wont' get here.")
			// };
			// req.send();


	</script>

	<h2>Link to error docs</h2>
	<h3>Link to <em>localized</em> error docs</h3>


</body>

</html>
